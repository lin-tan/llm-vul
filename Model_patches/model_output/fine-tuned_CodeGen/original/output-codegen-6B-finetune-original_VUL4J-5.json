{
    "output": [
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetDirPath = targetDirectory.toURI().toString();\n<|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetDirPath = targetDirectory.getAbsolutePath();\n<|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    final String targetDirPath = targetDirectory.getCanonicalPath();\n<|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    File targetDir = targetDirectory.getCanonicalFile();\n<|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetDirPath = targetDirectory.toString();\n<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetDir = targetDirectory.getCanonicalPath();\n<|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetPath = targetDirectory.getCanonicalPath();\n<|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    File targetDir = targetDirectory;\n<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n    String targetDirPath = targetDirectory.getPath();\n<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>",
        "private void expand(ArchiveEntrySupplier supplier, EntryWriter writer, File targetDirectory)\n    throws IOException {\n// buggy lines start:\n    String targetDirPath = targetDirectory.getCanonicalPath();\n// buggy lines end\n    ArchiveEntry nextEntry = supplier.getNextReadableEntry();\n    while (nextEntry!= null) {\n        File f = new File(targetDirectory, nextEntry.getName());\n        if (!f.getCanonicalPath().startsWith(targetDirPath)) {\n            throw new IOException(\"expanding \" + nextEntry.getName()\n                + \" would create file outside of \" + targetDirectory);\n        }\n        if (nextEntry.isDirectory()) {\n            if (!f.isDirectory() &&!f.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + f);\n            }\n        } else {\n            File parent = f.getParentFile();\n            if (!parent.isDirectory() &&!parent.mkdirs()) {\n                throw new IOException(\"failed to create directory \" + parent);\n            }\n            try (OutputStream o = Files.newOutputStream(f.toPath())) {\n                writer.writeEntryDataTo(nextEntry, o);\n            }\n        }\n        nextEntry = supplier.getNextReadableEntry();\n    }\n}\n// fixed lines:\n<|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|><|endoftext|>"
    ],
    "validation_result": [
        {
            "patch": "    String targetDirPath = targetDirectory.toURI().toString();\n",
            "correctness": "compile_success"
        },
        {
            "patch": "    String targetDirPath = targetDirectory.getAbsolutePath();\n",
            "correctness": "compile_success"
        },
        {
            "patch": "    final String targetDirPath = targetDirectory.getCanonicalPath();\n",
            "correctness": "compile_success"
        },
        {
            "patch": "    File targetDir = targetDirectory.getCanonicalFile();\n",
            "correctness": "uncompilable"
        },
        {
            "patch": "    String targetDirPath = targetDirectory.toString();\n",
            "correctness": "compile_success"
        },
        {
            "patch": "    String targetDir = targetDirectory.getCanonicalPath();\n",
            "correctness": "uncompilable"
        },
        {
            "patch": "    String targetPath = targetDirectory.getCanonicalPath();\n",
            "correctness": "uncompilable"
        },
        {
            "patch": "    File targetDir = targetDirectory;\n",
            "correctness": "uncompilable"
        },
        {
            "patch": "    String targetDirPath = targetDirectory.getPath();\n",
            "correctness": "compile_success"
        },
        {
            "patch": "",
            "correctness": "uncompilable"
        }
    ]
}